<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Condo Smart Search (Prototype)</title>
    <style>
        body { font-family: sans-serif; background: #f4f4f4; padding: 20px; }
        h1 { text-align: center; }
        /* *** ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏´‡∏°‡πà *** */
        .controls {
            background: #fff; padding: 20px; border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex; gap: 10px; align-items: center;
            justify-content: center; margin-bottom: 20px;
        }
        .controls label { font-weight: bold; }
        .controls input[type="text"] { 
            padding: 10px; font-size: 16px; width: 300px;
            border: 1px solid #ccc; border-radius: 5px;
        }
        .controls button {
            padding: 10px 20px; font-size: 16px; cursor: pointer;
            background: #28a745; color: white; border: none; border-radius: 5px;
        }
        
        /* ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) */
        .card-container { display: flex; flex-direction: column; gap: 15px; }
        .card { 
            background: #fff; border: 1px solid #ddd; border-radius: 8px; 
            padding: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); 
        }
        .card h2 { margin-top: 0; color: #005a9e; }
        .card p { color: #333; }
        .card .rank {
            font-size: 24px; font-weight: bold; color: #d9534f;
            float: right;
        }
    </style>
</head>
<body>

    <h1>‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î (Search Prototype)</h1>

    <div class="controls">
        <label for="searchInput">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:</label>
        <input type="text" id="searchInput" placeholder="‡πÄ‡∏ä‡πà‡∏ô '‡πÄ‡∏ã‡∏µ‡∏¢‡∏•‡πà‡∏≤', '‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå', '0 ‡πÄ‡∏°‡∏ï‡∏£'">
        <button id="searchButton">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
    </div>
    
    <div id="resultsContainer" class="card-container">
        </div>

    <script>
        // --- 1. ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (THE JSON DATABASE) ---
        // (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
        const condoData = [
          {
            "id": 1,
            "name": "‡πÄ‡∏ã‡∏µ‡∏¢‡∏•‡πà‡∏≤ ‡∏à‡∏£‡∏±‡∏ç‡∏Ø 13 ‡∏™‡πÄ‡∏ï‡∏ä‡∏±‡πà‡∏ô (Ciela 13)",
            "area": "Thaphra",
            "distance_to_mrt": 0,
            "pet_friendly": false,
            "explanation_card": "ü•á ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏£‡∏ñ: ‡∏ó‡∏≥‡πÄ‡∏• 0 ‡πÄ‡∏°‡∏ï‡∏£ ‡∏ï‡∏¥‡∏î MRT ‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏™‡∏ö‡∏≤‡∏¢‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‡πÅ‡∏•‡∏Å‡∏Å‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏á"
          },
          {
            "id": 2,
            "name": "‡∏®‡∏∏‡∏†‡∏≤‡∏•‡∏±‡∏¢ ‡πÑ‡∏•‡∏ó‡πå ‡∏ó‡πà‡∏≤‡∏û‡∏£‡∏∞‡∏Ø (Supalai Lite)",
            "area": "Thaphra",
            "distance_to_mrt": 570,
            "pet_friendly": false,
            "explanation_card": "ü•â ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡πÉ‡∏ä‡πâ‡∏£‡∏ñ: ‡πÑ‡∏î‡πâ‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏ç‡πà ‡∏ù‡πâ‡∏≤‡∏™‡∏π‡∏á ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏î‡∏µ‡πÉ‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏Å‡∏•‡∏£‡∏ñ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤"
          },
          {
            "id": 3,
            "name": "‡∏ô‡∏¥‡∏ä ‡πÇ‡∏°‡πÇ‡∏ô ‡∏≠‡∏¥‡∏™‡∏£‡∏†‡∏≤‡∏û (Niche Mono)",
            "area": "Thaphra",
            "distance_to_mrt": 200,
            "pet_friendly": true,
            "explanation_card": "ü•à ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏á‡∏ö: ‡πÉ‡∏Å‡∏•‡πâ MRT 200 ‡∏°. ‡πÑ‡∏î‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß (Low-Rise) ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÑ‡∏î‡πâ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£‡∏®‡∏¥‡∏£‡∏¥‡∏£‡∏≤‡∏ä"
          },
          {
            "id": 4,
            "name": "‡∏¢‡∏π‡∏ô‡∏¥‡πÇ‡∏≠ ‡∏à‡∏£‡∏±‡∏ç 3 (Unio Charan 3)",
            "area": "Thaphra",
            "distance_to_mrt": 1000,
            "pet_friendly": false,
            "explanation_card": "‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î (Yield): ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠ ‡∏ï‡∏£.‡∏°. ‡∏ñ‡∏π‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡πà‡∏≠‡∏£‡∏ñ‡πÑ‡∏õ MRT ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô‡∏™‡∏π‡∏á"
          }
        ];

        // --- 2. "‡∏™‡∏°‡∏≠‡∏á" (THE BRAIN) ---
        
        // (‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° - ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå)
        function calculateScore(condo) {
            let score = 0;
            score += 1000 / (condo.distance_to_mrt + 1); 
            if (condo.pet_friendly === true) {
                score += 50; 
            }
            return score;
        }

        // *** JavaScript ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ***
        function findAndDisplayCondos() {
            const container = document.getElementById('resultsContainer');
            container.innerHTML = '<h2>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...</h2>';

            // 1. "‡∏≠‡πà‡∏≤‡∏ô" ‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å *‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤* ‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏û‡∏¥‡∏°‡∏û‡πå
            // .toLowerCase() ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å/‡πÉ‡∏´‡∏ç‡πà (‡πÄ‡∏ä‡πà‡∏ô "ciela" ‡∏´‡∏£‡∏∑‡∏≠ "Ciela")
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();

            // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏¥‡∏°‡∏û‡πå‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏•‡∏¢ ‡∏Å‡πá‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
            if (!searchTerm) {
                container.innerHTML = '<p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô "‡πÄ‡∏ã‡∏µ‡∏¢‡∏•‡πà‡∏≤", "‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå", ‡∏´‡∏£‡∏∑‡∏≠ "0 ‡πÄ‡∏°‡∏ï‡∏£"</p>';
                return;
            }

            // 2. ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå (Rule-Based Keyword Search)
            const filteredResults = condoData.filter(condo => {
                // ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö
                const nameMatch = condo.name.toLowerCase().includes(searchTerm);
                const explanationMatch = condo.explanation_card.toLowerCase().includes(searchTerm);
                
                // ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ "‡∏à‡∏£‡∏¥‡∏á" ‡∏ñ‡πâ‡∏≤‡∏û‡∏ö‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÉ‡∏ô "‡∏ä‡∏∑‡πà‡∏≠" *‡∏´‡∏£‡∏∑‡∏≠* "‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢"
                return nameMatch || explanationMatch;
            });

            // 3. ‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‡πÅ‡∏•‡∏∞ ‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏à‡∏≠)
            const scoredResults = filteredResults.map(condo => {
                return {
                    ...condo,
                    score: calculateScore(condo)
                };
            });

            const sortedResults = scoredResults.sort((a, b) => b.score - a.score);

            // 4. ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
            container.innerHTML = ''; 
            
            if (sortedResults.length === 0) {
                container.innerHTML = '<p>‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>';
                return;
            }

            sortedResults.forEach((condo, index) => {
                const rank = index + 1;
                const cardHTML = `
                    <div class="card">
                        <span class="rank">#${rank}</span>
                        <h2>${condo.name}</h2>
                        <p><strong>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</strong> ${condo.explanation_card}</p>
                        <p>
                            <small>
                                <strong>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</strong> 
                                (‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á: ${condo.distance_to_mrt} ‡∏°. | 
                                ‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå: ${condo.pet_friendly ? '‡πÑ‡∏î‡πâ' : '‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ'} | 
                                ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ${Math.round(condo.score)})
                            </small>
                        </p>
                    </div>
                `;
                container.innerHTML += cardHTML;
            });
        }

        // ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏° #searchButton ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏•‡∏¥‡∏Å
        document.getElementById('searchButton').addEventListener('click', findAndDisplayCondos);
        
        // (‡πÇ‡∏ö‡∏ô‡∏±‡∏™) ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏° Enter ‡∏ó‡∏µ‡πà‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢
        document.getElementById('searchInput').addEventListener('keyup', function(event) {
            if (event.key === "Enter") {
                findAndDisplayCondos();
            }
        });

    </script>

</body>
</html>
